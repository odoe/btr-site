<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>dojo btr site</title>
	<meta name="theme-color" content="#009dff">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Static blog built with dojo">
	<link rel="icon" href="/assets/favicon.ico" />
	<link rel="stylesheet" type="text/css" href="../../prism.2KjsfOjs.css" />
<style>/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */@import url(https://fonts.googleapis.com/css?family=Montserrat&display=swap);body{margin:0;padding:0;color:rgba(46,46,46,.95)}header{font-family:Montserrat,sans-serif;font-weight:400;text-rendering:optimizeLegibility;line-height:1.1}code[class*=language-],pre[class*=language-]{font-size:14px}/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */@-webkit-keyframes combobox-m__fadeInOpacity__3EJ36{0%{opacity:0}to{opacity:1}}@keyframes combobox-m__fadeInOpacity__3EJ36{0%{opacity:0}to{opacity:1}}@font-face{font-family:dojo2BaseTheme;src:url(4320b561bf6b259b0082d83d4848daf9.3VSAx8ft.ttf) format("truetype"),url(a302b51c64828d7c0aaf95c1cfa4daad.2JSGjfMp.woff) format("woff"),url(79b71beaafd0e1d0897d414fa6b1f796.2mZX6CjQ.svg#dojo2) format("svg");font-weight:400;font-style:normal}@-webkit-keyframes grid-placeholder-row-m__spin__FCJF0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes grid-placeholder-row-m__spin__FCJF0{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@-webkit-keyframes select-m__fadeInOpacity__198JF{0%{opacity:0}to{opacity:1}}@keyframes select-m__fadeInOpacity__198JF{0%{opacity:0}to{opacity:1}}:root{--tab-width:calc(var(--grid-base) * 16)}.toolbar-m__root__zQuGH{background:#fff;background:var(--color-background);border-top:1px solid #d6dde2;border-top:var(--border-width) solid var(--color-border);border-bottom:1px solid #d6dde2;border-bottom:var(--border-width) solid var(--color-border);-webkit-box-sizing:border-box;box-sizing:border-box;height:calc(7 * 8px);height:calc(7 * var(--grid-base));padding:calc(2 * 8px);padding:calc(2 * var(--grid-base));text-align:left}.toolbar-m__title__3F385{font-size:20px;font-size:var(--font-size-title);margin:0;font-weight:400}:root{--grid-base:8px;--spacing-regular:var(--grid-base);--spacing-large:calc(var(--grid-base) * 2);--touch-target-min:48px;--font-size-base:16px;--font-size-small:14px;--font-size-title:20px;--font-size-icon:24px;--line-height-base:24px;--color-text-primary:#000;--color-text-faded:#5c6c7c;--color-text-inverted:#fff;--color-highlight:#006be6;--color-highlight-border:#298dff;--color-success:#188701;--color-error:#eb1313;--color-background:#fff;--color-background-inverted:#5c6c7c;--color-background-faded:#f4f6f7;--color-border:#d6dde2;--color-border-strong:#5c6c7c;--color-border-invalid:#f7c4c4;--color-border-valid:#bcefb1;--color-box-shadow:rgba(0,0,0,0.2);--color-box-shadow-highlight:rgba(0,107,230,0.2);--color-box-shadow-strong:rgba(0,0,0,0.5);--color-box-shadow-focus:rgba(0,107,230,0.2);--color-box-shadow-invalid:rgba(235,19,19,0.2);--color-box-shadow-valid:rgba(24,135,1,0.2);--box-shadow-dimensions-small:0 2px 2px 0;--box-shadow-dimensions-large:0 9px 16px 0;--border-width:1px;--border-width-emphasized:2px;--transition-duration:0.25s;--transition-easing:ease;--zindex-base:0;--zindex-tooltip:100;--zindex-dropdown:200;--zindex-fixed:300;--zindex-dialog:400;--zindex-alert:500}.Footer-m__root__1zPMX{-webkit-box-flex:1;-ms-flex:1;flex:1;text-align:center;padding:3rem 1rem;overflow:hidden}.Footer-m__details__2pZwP{font-size:.75rem}@font-face{font-family:dojo2;src:url(dojo2.1jRzby-N.ttf) format("truetype"),url(dojo2.6KF-s-BX.woff) format("woff"),url(dojo2.1LTNJcFj.svg#dojo2) format("svg");font-weight:400;font-style:normal}@keyframes _1GpxvABe{0%{opacity:0}to{opacity:1}}@keyframes ClAlvWcr{0%{opacity:1}to{opacity:0}}.ZdCaptWX{display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-pack:justify;justify-content:space-between;width:100%;-ms-flex-align:center;align-items:center}.Header-m__root__15XcQ{-webkit-box-flex:1;-ms-flex:1;flex:1;overflow:hidden;color:#fff;background-color:#0179cc}.Header-m__link__2GEKH:hover{color:#4db3ff;background-color:#cde}.Header-m__link__2GEKH{min-width:140px;text-align:center;text-transform:uppercase;text-decoration:none;padding:18px;color:#fff;-webkit-box-sizing:border-box;box-sizing:border-box}.Header-m__selected__12TDn{color:#ff8c00}.Layout-m__root__3l2TO{-webkit-box-shadow:rgba(0,0,0,.1) 0 4px 120px;box-shadow:0 4px 120px rgba(0,0,0,.1);grid-column:2/auto;padding:0 9rem;overflow:hidden}@media only screen and (max-width:800px){.Layout-m__root__3l2TO{padding:0}.Layout-m__root__3l2TO article img{display:block;max-width:500px;margin:0 auto}}@media only screen and (max-width:1200px){.Layout-m__root__3l2TO article img{display:block;max-width:500px;margin:0 auto}}@media only screen and (max-width:480px){.Layout-m__root__3l2TO{padding:0}.Layout-m__root__3l2TO article img{display:block;max-width:300px;margin:0 auto}}/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */.Content-m__root__1ITm5{margin-top:1rem}.Blog-m__root__1B0aR{padding:1.2rem}/*!
 * 
 * [Dojo](https://dojo.io/)
 * Copyright [JS Foundation](https://js.foundation/) & contributors
 * [New BSD license](https://github.com/dojo/meta/blob/master/LICENSE)
 * All rights reserved
 * 
 */code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2b2b2b}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#d4d0ab}.token.punctuation{color:#fefefe}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#ffa07a}.token.boolean,.token.number{color:#00e0e0}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#abe338}.language-css .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#00e0e0}.token.atrule,.token.attr-value,.token.function{color:gold}.token.keyword{color:#00e0e0}.token.important,.token.regex{color:gold}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}@media screen and (-ms-high-contrast:active){code[class*=language-],pre[class*=language-]{color:windowText;background:window}:not(pre)>code[class*=language-],pre[class*=language-]{background:window}.token.important{background:highlight;color:window;font-weight:400}.token.atrule,.token.attr-value,.token.function,.token.keyword,.token.operator,.token.selector{font-weight:700}.token.attr-value,.token.comment,.token.doctype,.token.function,.token.keyword,.token.operator,.token.property,.token.string{color:highlight}.token.attr-value,.token.url{font-weight:400}}</style></head>
<body>
	<div id="root"><div class="Layout-m__root__3l2TO"><header><div class="ZdCaptWX Header-m__root__15XcQ toolbar-m__root__zQuGH"><div class="toolbar-m__title__3F385">Dojo BTR Site</div><div class="_5E9jF1Pb"><a class="Header-m__link__2GEKH" href="/home">Home</a><a class="Header-m__link__2GEKH Header-m__selected__12TDn" href="/blog">Blog</a></div></div></header><div class="Blog-m__root__1B0aR"><article class="Content-m__root__1ITm5"><a href="/blog/creating-a-datepicker-with-dojo">Creating a DatePicker with Dojo</a><p>Rene Rubalcava | September 9, 2018</p><div><p>I recently talked about <a href="https://dev.to/odoenet/up-and-running-with-dojocli-242e" target="_blank" rel="nofollow">getting started with the @dojo/cli</a>. This time around, I wanted to dive a little deeper and talk about using some of the provided <a href="https://github.com/dojo/widgets" target="_blank" rel="nofollow">widgets</a> with Dojo to build a useful <a href="https://github.com/odoe/dojo-datepicker-sample" target="_blank" rel="nofollow">DatePicker widget</a>.</p>
<p><img src="/assets/blog/datepicker.gif"></p>
<p>This sample covers some pretty interesting concepts of Dojo, including widget composition, styling, date formatting with internationalization, and more.</p>
<p>Before we start, delete the default <code>HelloWorld.ts</code> and widget css file that came with the <code>@dojo/cli</code> output.</p>
<h2 id="create-the-widget">Create the widget</h2>
<p>Our first step is to install the widgets library.</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save @dojo/widgets
</code></pre>
<p>Now we can create a <code>DatePicker.ts</code> in the <code>src/widgets</code> folder.</p>
<pre class="language-ts"><code class="language-ts"><span class="token comment">// src/widgets/DatePicker.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> v<span class="token punctuation">,</span> w <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/widget-core/d'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">WidgetBase</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/widget-core/WidgetBase'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token maybe-class-name">Calendar</span> <span class="token keyword">from</span> <span class="token string">'@dojo/widgets/calendar'</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">DatePickerProperties</span> <span class="token punctuation">{</span>
  selectedDate<span class="token punctuation">:</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">DatePickerState</span> <span class="token punctuation">{</span>
  month<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  year<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
  selectedDate<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token known-class-name class-name">Date</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">DatePicker</span> <span class="token keyword">extends</span> <span class="token class-name">WidgetBase</span><span class="token operator">&lt;</span><span class="token maybe-class-name">DatePickerProperties</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  state<span class="token punctuation">:</span> <span class="token maybe-class-name">DatePickerState</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    month<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    selectedDate<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">properties</span><span class="token punctuation">.</span><span class="token property-access">selectedDate</span><span class="token punctuation">,</span>
    year<span class="token punctuation">:</span> <span class="token number">2018</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
      <span class="token function">v</span><span class="token punctuation">(</span>
        <span class="token string">'section'</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>
          <span class="token function">w</span><span class="token punctuation">(</span><span class="token maybe-class-name">Calendar</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
            month<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">month</span><span class="token punctuation">,</span>
            selectedDate<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">selectedDate</span><span class="token punctuation">,</span>
            year<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">year</span><span class="token punctuation">,</span>
            <span class="token function-variable function">onMonthChange</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">month<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> month<span class="token punctuation">:</span> month <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">onYearChange</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">year<span class="token punctuation">:</span> <span class="token builtin">number</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> year<span class="token punctuation">:</span> year <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token function-variable function">onDateSelect</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">date<span class="token punctuation">:</span> <span class="token known-class-name class-name">Date</span></span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
              <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> selectedDate<span class="token punctuation">:</span> date <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// helper method to set the state</span>
  <span class="token keyword">protected</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">:</span> <span class="token maybe-class-name">DatePickerState</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>state <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token maybe-class-name">DatePicker</span><span class="token punctuation">;</span>
</code></pre>
<p>In this widget, we are going to make use of the <a href="https://dojo.io/docs/index.html#doc--dojo__widgets__v3_0_0__src__calendar__README_md" target="_blank" rel="nofollow">Calendar widget</a> we get in <code>@dojo/widgets</code>.</p>
<p>This widget will have some simple state properties related to picking a date.</p>
<pre class="language-ts"><code class="language-ts">state <span class="token operator">=</span> <span class="token punctuation">{</span>
  month<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  selectedDate<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">properties</span><span class="token punctuation">.</span><span class="token property-access">selectedDate</span><span class="token punctuation">,</span>
  year<span class="token punctuation">:</span> <span class="token number">2018</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>You may also notice the helper method I added to help me update the state of my widget.</p>
<pre class="language-ts"><code class="language-ts"><span class="token comment">// helper method to set the state</span>
<span class="token keyword">protected</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">:</span> <span class="token builtin">any</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">,</span> <span class="token spread operator">...</span>state <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This will update the <code>state</code> object of my widget and call a <code>this.invalidate()</code> method that will update my widget based on the new state changes. This <code>invalidate()</code> method will be replaced by a <code>@watch()</code> decorator on properties in a future version of Dojo to simplify updates. Other than that, I pretty much followed the Calendar <a href="https://dojo.io/docs/index.html#doc--dojo__widgets__v3_0_0__src__calendar__README_md" target="_blank" rel="nofollow">example</a> provided in the documentation.</p>
<p>But let's make things a little more interesting. I want an input box that will display my selected date. For this, I'm going to use the <a href="https://dojo.io/docs/index.html#doc--dojo__widgets__v3_0_0__src__enhanced-text-input__README_md" target="_blank" rel="nofollow">EnhancedTextInput</a>.</p>
<pre class="language-ts"><code class="language-ts"><span class="token function">w</span><span class="token punctuation">(</span><span class="token maybe-class-name">EnhancedTextInput</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  addonAfter<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token function">v</span><span class="token punctuation">(</span>
      <span class="token string">'button'</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">[</span>
        <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          classes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">'fa'</span><span class="token punctuation">,</span>
            <span class="token string">'fa-chevron-down'</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  label<span class="token punctuation">:</span> <span class="token string">'Pick a date'</span><span class="token punctuation">,</span>
  value<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">selectedDate</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>I wanted to use the EnhancedTextInput because it lets me add a button to it using the <code>addonAfter</code> contents. I found this to be very useful! You'll notice I'm using <a href="https://fontawesome.com/v4.7.0/" target="_blank" rel="nofollow">Font Awesome</a> to help me out here. Since we're at it, let's talk about some styling.</p>
<h2 id="css">CSS</h2>
<p>Create a <code>src/widgets/styles/datepicker.m.css</code> file.</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* src/widgets/styles/datepicker.m.css */</span>
<span class="token selector"><span class="token class">.root</span></span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token unit">em</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#000</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.hidden</span></span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.calendarcontainer</span></span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Notice I added a <code>hidden</code> class. We'll use that in a moment. But first, let's modify the <code>src/main.css</code> file.</p>
<pre class="language-css"><code class="language-css"><span class="token comment">/* src/main.css */</span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url">url('https://fonts.googleapis.com/css?family=Roboto')</span><span class="token punctuation">;</span></span>
<span class="token atrule"><span class="token rule">@import</span> <span class="token url">url('https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css')</span><span class="token punctuation">;</span></span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'Roboto'</span><span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#1d1f20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">input</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">1.2</span><span class="token unit">em</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">button</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#fff</span><span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">184</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token unit">em</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Here, I provide some styling for my input, my buttons and some typography.</p>
<p>With the css ready for the application, we can start making the widget a little more interactive.</p>
<h2 id="interactivity">Interactivity</h2>
<p>Part of the functionality of the DatePicker is to have the calendar open and close on a button click. We can add a <code>visible</code> property to our state object.</p>
<pre class="language-ts"><code class="language-ts">state <span class="token operator">=</span> <span class="token punctuation">{</span>
  month<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  selectedDate<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">properties</span><span class="token punctuation">.</span><span class="token property-access">selectedDate</span><span class="token punctuation">,</span>
  year<span class="token punctuation">:</span> <span class="token number">2018</span><span class="token punctuation">,</span>
  visible<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<p>Lets modify the button to update the <code>visible</code> state.</p>
<pre class="language-ts"><code class="language-ts"><span class="token function">v</span><span class="token punctuation">(</span>
  <span class="token string">'button'</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token function-variable function">onclick</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> visible<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">visible</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>
    <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'i'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      classes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">'fa'</span><span class="token punctuation">,</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">visible</span> <span class="token operator">?</span> <span class="token string">'fa-chevron-up'</span> <span class="token punctuation">:</span> <span class="token string">'fa-chevron-down'</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre>
<p>Now <code>onclick</code> will update the <code>visible</code> state and that will determine the button icon. We'll also update the container for the Calendar so it can toggle the visibility.</p>
<pre class="language-ts"><code class="language-ts"><span class="token function">v</span><span class="token punctuation">(</span>
  <span class="token string">'section'</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    classes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">visible</span> <span class="token operator">?</span> <span class="token string">''</span> <span class="token punctuation">:</span> css<span class="token punctuation">.</span><span class="token property-access">hidden</span><span class="token punctuation">,</span> css<span class="token punctuation">.</span><span class="token property-access">calendarcontainer</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>
    <span class="token function">w</span><span class="token punctuation">(</span><span class="token maybe-class-name">Calendar</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token spread operator">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span>
</code></pre>
<p><strong>AWESOME!!</strong> We now have a fully interactive DatePicker. But we're not updating the value of the EnhancedTextInput with the selected date. But we can't just show the date any normal way. We want our DatePicker to support various locales. We can do with <a href="https://dojo.io/docs/index.html#doc--dojo__framework__v3_0_0__src__i18n__README_md" target="_blank" rel="nofollow"><code>@dojo/framework/i18n</code></a>.</p>
<h2 id="internationalization">Internationalization</h2>
<p>I'm not going to get in to detail on using <code>i18n</code>, it's incredibly powerful. But we're going to use it to support formatting our dates accordingly.</p>
<p>First, we need <a href="https://www.npmjs.com/package/cldr-data" target="_blank" rel="nofollow">cldr-data</a> for our application to use.</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> --save cldr-data
</code></pre>
<p>Next, update the <code>.dojorc</code> file to use it.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"build-app"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"locale"</span><span class="token operator">:</span> <span class="token string">"en"</span><span class="token punctuation">,</span>
        <span class="token property">"supportedLocales"</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">"es"</span><span class="token punctuation">,</span> <span class="token string">"fr"</span><span class="token punctuation">,</span> <span class="token string">"hi"</span><span class="token punctuation">,</span> <span class="token string">"ar"</span><span class="token punctuation">,</span> <span class="token string">"ja"</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"cldrPaths"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">"cldr-data/main/{locale}/ca-gregorian"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/main/{locale}/dateFields"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/main/{locale}/numbers"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/main/{locale}/timeZoneNames"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/supplemental/likelySubtags"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/supplemental/numberingSystems"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/supplemental/ordinals"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/supplemental/plurals"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/supplemental/timeData"</span><span class="token punctuation">,</span>
            <span class="token string">"cldr-data/supplemental/weekData"</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"test-intern"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">"create-app"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Now we can support various locales for working with dates.</p>
<pre class="language-ts"><code class="language-ts"><span class="token comment">// src/widgets/DatePicker.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/i18n/date'</span><span class="token punctuation">;</span>

<span class="token spread operator">...</span>

<span class="token method function property-access">w</span><span class="token punctuation">(</span><span class="token maybe-class-name">EnhancedTextInput</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  addonAfter<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token spread operator">...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  label<span class="token punctuation">:</span> <span class="token string">'Pick a date'</span><span class="token punctuation">,</span>
  value<span class="token punctuation">:</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token property-access">selectedDate</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">properties</span><span class="token punctuation">.</span><span class="token property-access">selectedDate</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> date<span class="token punctuation">:</span> <span class="token string">'short'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>We are going to use the <code>formatDate()</code> method to format our date in the EnhancedTextInput accordingly. I could take this a step further and provide the <code>Pick a date</code> text in various locales, which isn't difficult to do. You can read more about supporting various languages <a href="https://dojo.io/docs/index.html#doc--dojo__framework__v3_0_0__src__i18n__README_md--message-bundle-loading" target="_blank" rel="nofollow">here</a>.</p>
<h2 id="put-it-all-together">Put it all together</h2>
<p>Now we can add the DatePicker to our main application.</p>
<pre class="language-ts"><code class="language-ts"><span class="token comment">// src/main.ts</span>
<span class="token spread operator">...</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">WidgetBase</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
      <span class="token function">w</span><span class="token punctuation">(</span><span class="token maybe-class-name">DatePicker</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> selectedDate<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token spread operator">...</span>
</code></pre>
<p>And <em>voila!</em> You have a finished and useable DatePicker with styling and internationalization. I'm sure you could make this look better than I did, I never claimed to be a good designer, I just know enough to get things done.</p>
<p>You can see the source code for the complete application on <a href="https://github.com/odoe/dojo-datepicker-sample" target="_blank" rel="nofollow">github</a>.</p>
<p>I also want to point out that you can try out some Dojo in <a href="https://codesandbox.io" target="_blank" rel="nofollow">codesandbox</a>, although I have had some issues with <code>i18n</code> in the sandbox, which is why this sample isn't provided there.</p>
<p>Now you can go forward and make some awesome widgets of your own!</p>
<p>Be sure to <a href="https://learn-dojo.com/sign-up/" target="_blank" rel="nofollow">subscribe to the newsletter</a> at learn-dojo.com and stay up to date with the latest content!</p></div></article></div><footer class="Footer-m__root__1zPMX"><span>Â© 2019 odoenet</span><br><a href="https://github.com/odoe/btr-site" target="_blank">github</a><br><a href="https://dojo.io/" target="_blank">powered by @dojo</a><br><span class="Footer-m__details__2pZwP">Last build: 5/25/2019</span></footer></div></div>
<script>
window.__public_path__ = window.location.pathname.replace(/blog\/creating-a-datepicker-with-dojo(\/)?/, '');
</script><link rel="stylesheet" href="../../bootstrap.c5548b17683b704ef626.bundle.css" media="none" onload="if(media!='all')media='all'" /><script type="text/javascript" src="../../bootstrap.1e28dc3a3a051f6b81bd.bundle.js"></script></body>
</html>
